## 字符串的编码和解码

#### Base64
Base64是一种用64个字符来表示任意二进制数据的方法。用记事本打开exe、jpg、pdf这些文件时，我们都会看到一大堆乱码，因为二进制文件包含很多无法显示和打印的字符，所以，如果要让记事本这样的文本处理软件能处理二进制数据，就需要一个二进制到字符串的转换方法。Base64是一种最常见的二进制编码方法。对二进制数据进行处理，每3个字节一组，共有24bit，将这24bit划分为4段，每段6bit对应一个数字，用4个数字查找对应的字符，就是编码后的字符。Base64编码会把3字节的二进制数据编码为4字节的文本数据，长度增加33%。如果要编码的二进制数据不是3的倍数，最后会剩下1个或2个字节怎么办？Base64用\x00字节在末尾补足后，再在编码的末尾加上1个或2个=号，表示补了多少字节，解码的时候，会自动去掉。

* 判断字符串是否为合法的Base64编码
  * 判断条件
    1. 字符串只可能包含A-Z，a-z，0-9，+，/，=字符 
    2. 字符串长度是4的倍数 
    3. =只会出现在字符串最后，可能没有或者一个等号或者两个等号
  * 正则化匹配
    ```java
    private static boolean isBase64(String str) {
    String base64Pattern = "^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$";
    return Pattern.matches(base64Pattern, str);
    }
    ```